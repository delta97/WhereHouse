data(zipcode.civicspace)
View(Street)
View(zipcode.civicspace)
View(warehouse)
rm(adress)
rm(available_size)
rm(building_size)
rm(city_state)
rm(df)
rm(df1)
rm(price)
rm(price_1)
rm(street,zipcode,zipcode.civicspace,zipcode_city)
rm(Street)
View(warehouse)
warehouse %>% summarise(avg(building_size))
warehouse %>% summarise(mean(building_size))
warehouse <- as.data.frame(warehouse)
warehouse %>% summarise(mean(building_size))
View(warehouse)
warehouse %>% summarise(mean(Size))
View(warehouse)
#Building Size
building_size <- df1 %>% filter(str_detect(df1, "Building Size")) %>%
separate(df1, sep = ":", c("Text", "Size"))
#Attributes
df1 <- lapply(paste0('https://www.loopnet.com/warehouses-for-lease/', 1:20,sep="/"),
function(url){
url %>% read_html() %>%
html_nodes(".listingAttributes tr") %>%
html_text() %>%
str_trim()
})
df1 <- unlist(df1)
df1 <- as.data.frame(df1)
#Building Size
building_size <- df1 %>% filter(str_detect(df1, "Building Size")) %>%
separate(df1, sep = ":", c("Text", "Size"))
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, building_size, available_size)
#Street Adress
Street <- lapply(paste0('https://www.loopnet.com/warehouses-for-lease/', 1:20,sep="/"),
function(url){
url %>% read_html() %>%
html_nodes(".listingTitle") %>%
html_text() %>%
str_trim() %>%
gsub('-* Warehouse for Lease', '', .)
})
Street <- unlist(Street)
Street <- as.data.frame(Street)
#City and State
city_state <- lapply(paste0('https://www.loopnet.com/warehouses-for-lease/', 1:20,sep="/"),
function(url){
url %>% read_html() %>%
html_nodes(".listingDescription b") %>%
html_text() %>%
str_trim()
})
city_state <- unlist(city_state)
city_state <- as.data.frame(city_state)
city_state <- city_state %>% separate(city_state, sep = "," ,c("city","State"))
#Price per skid per month
price_1 <- df1 %>% filter(str_detect(df1,"Price:")) %>%
separate(df1, sep = ":", c("Text","Fee")) %>%
separate(Fee, sep = "-", c("Fee", "Max"))
price$Text <- NULL
price$Max <- NULL
price$Fee <- gsub("[^0-9\\.]", "", price$Fee)
price <- as.numeric(price$Fee)
price <- as.data.frame(price)
#Price per skid per month
price <- df1 %>% filter(str_detect(df1,"Price:")) %>%
separate(df1, sep = ":", c("Text","Fee")) %>%
separate(Fee, sep = "-", c("Fee", "Max"))
price$Text <- NULL
price$Max <- NULL
price$Fee <- gsub("[^0-9\\.]", "", price$Fee)
price <- as.numeric(price$Fee)
price <- as.data.frame(price)
#Building Size
building_size <- df1 %>% filter(str_detect(df1, "Building Size")) %>%
separate(df1, sep = ":", c("Text", "Size"))
building_size$Text <- NULL
building_size$Size <- gsub("[^0-9\\]", "", building_size$Size)
#Available Size
available_size <- df1 %>% filter(str_detect(df1, "Space Available")) %>%
separate(df1, sep = ":", c("Text" ,"Space")) %>%
separate(Space, sep = "-", c("Min", "Max"))
available_size$Text <- NULL
available_size$Max <- NULL
available_size$Min <- gsub("[^0-9\\,]", "", available_size$Min)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, building_size, available_size)
warehouse %>% summarise(mean(Size))
warehouse %>% summarise(mean(price))
View(price)
View(warehouse)
building_size <- as.numeric(building_size$Size)
building_size <- as.data.frame(building_size)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, building_size, available_size)
warehouse %>% summarise(mean(price))
warehouse %>% summarise(mean(Size))
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, building_size, available_size)
View(warehouse)
warehouse %>% summarise(mean(building_size))
Size <- as.numeric(building_size$Size)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, available_size)
Size <- as.data.frame(Size)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, available_size)
#Building Size
building_size <- df1 %>% filter(str_detect(df1, "Building Size")) %>%
separate(df1, sep = ":", c("Text", "Size"))
building_size$Text <- NULL
building_size$Size <- gsub("[^0-9\\]", "", building_size$Size)
Size <- as.numeric(building_size$Size)
Size <- as.data.frame(Size)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, available_size)
warehouse %>% summarise((Size))
warehouse %>% summarise(mean(Size))
Space <- as.data.frame(Size)
Space <- as.numeric(available_size$Min)
#Available Size
available_size <- df1 %>% filter(str_detect(df1, "Space Available")) %>%
separate(df1, sep = ":", c("Text" ,"Space")) %>%
separate(Space, sep = "-", c("Min", "Max"))
available_size$Text <- NULL
available_size$Max <- NULL
available_size$Min <- gsub("[^0-9\\,]", "", available_size$Min)
Space <- as.numeric(available_size$Min)
Space <- as.data.frame(Size)
View(Space)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
warehouse %>% summarise(mean(Space))
#Available Size
available_size <- df1 %>% filter(str_detect(df1, "Space Available")) %>%
separate(df1, sep = ":", c("Text" ,"Space")) %>%
separate(Space, sep = "-", c("Min", "Max"))
available_size$Text <- NULL
available_size$Max <- NULL
available_size$Min <- gsub("[^0-9\\]", "", available_size$Min)
Space <- as.numeric(available_size$Min)
Space <- as.data.frame(Size)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
warehouse %>% summarise(mean(Space))
View(Space)
View(Size)
#Available Size
available_size <- df1 %>% filter(str_detect(df1, "Space Available")) %>%
separate(df1, sep = ":", c("Text" ,"Space")) %>%
separate(Space, sep = "-", c("Min", "Max"))
available_size$Text <- NULL
available_size$Max <- NULL
View(available_size)
available_size$Space <- gsub("[^0-9\\]", "", available_size$Min)
Space <- as.numeric(available_size$Space)
Space <- as.data.frame(Size)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
warehouse %>% summarise(mean(Space))
Space <- as.numeric(available_size$Space)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
Space <- as.data.frame(Space)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
warehouse <- as.data.frame(warehouse)
warehouse %>% summarise(mean(Space))
warehouse %>% summarise(mean(price))
warehouse <- as.data.frame(warehouse) %>% na.omit()
warehouse %>% summarise(mean(price))
warehouse %>% filter(State == California) %>% summarise(mean(price))
warehouse %>% filter(State == "California") %>% summarise(mean(price))
warehouse %>% group_by(State) %>% summarise(mean(price))
View(warehouse)
state_price <- warehouse %>% group_by(State) %>% summarise(mean(price))
View(state_price)
View(warehouse)
View(warehouse)
View(warehouse)
View(warehouse)
warehouse <- tibble::rowid_to_column(warehouse, "ID")
View(warehouse)
state_price <- warehouse %>% group_by(State) %>% summarise(mean(price) * 12)
library(rvest)
library(stringr)
library(tidyverse)
library(dplyr)
state_price <- warehouse %>% group_by(State) %>% summarise(mean(price) * 12)
View(state_price)
state_price <- warehouse %>% summarise(mean(price) * 12)
View(state_price)
plot(price, id)
plot(price, ID)
plot(price)
View(price)
warehouse %>% ggplot2::geom_point(price,ID)
warehouse %>% ggplot() %>% geom_point(aes(x = ID, y = price))
library(ggplot2)
warehouse %>% ggplot() %>% geom_point(aes(x = ID, y = price))
ggplot(warehouse) %>% geom_point(aes(x = ID, y = price))
ggplot(warehouse, aes(x = ID, y = price))
warehouse <- tibble::rowid_to_column(warehouse, "ID")
ggplot(warehouse, aes(x = ID, y = price))
ggplot(warehouse, aes(x = ID, y = price)) + geom_point()
warehouse %>% mutate(price = price * 12)
warehouse %>%
mutate(price = price * 12)
library(dplyr)
warehouse %>%
mutate(price = price * 12)
ggplot(warehouse, aes(x = ID, y = price)) + geom_point()
View(warehouse)
warehouse %>%
mutate(price = price * 12)
ggplot(warehouse, aes(x = ID, y = price)) + geom_point()
warehouse %>%
mutate(price = price * 12) %>%
ggplot(warehouse, aes(x = ID, y = price)) + geom_point()
warehouse %>%
mutate(price = price * 12) %>%
ggplot(aes(x = ID, y = price)) + geom_point()
outlierReplace(wherehouse, "price", which(wherehouse$price > 30), NA)
library(data.table)
outlierReplace(wherehouse, "price", which(wherehouse$price > 30), NA)
outlierReplace = function(dataframe, cols, rows, newValue = NA) {
if (any(rows)) {
set(dataframe, rows, cols, newValue)
}
}
outlierReplace(wherehouse, "price", which(wherehouse$price > 30), NA)
outlierReplace(warehouse, "price", which(warehouse$price > 30), NA)
warehouse %>%
mutate(price = price * 12) %>%
ggplot(aes(x = ID, y = price)) + geom_point()
library(dplyr)
library(ggplot2)
warehouse %>%
mutate(price = price * 12) %>%
ggplot(aes(x = ID, y = price)) + geom_point()
outlierReplace(warehouse, "price", which(warehouse$price > 20), NA)
warehouse %>%
mutate(price = price * 12) %>%
ggplot(aes(x = ID, y = price)) + geom_point()
outlierReplace(warehouse, "price", which(warehouse$price > 10), NA)
warehouse %>%
mutate(price = price * 12) %>%
ggplot(aes(x = ID, y = price)) + geom_point()
warehouse %>%
mutate(price = price * 12) %>%
summarise(mean(price)) %>%
ggplot(aes(x = ID, y = price)) + geom_point()
warehouse <- tibble::rowid_to_column(warehouse, "ID")
warehouse %>%
mutate(price = price * 12) %>%
summarise(mean(price))
View(warehouse)
warehouse %>%
mutate(price = price * 12) %>%
na.omit() %>%
summarise(mean(price))
outlierReplace(warehouse, "price", which(warehouse$price > 5), NA)
warehouse %>%
mutate(price = price * 12) %>%
na.omit()
warehouse %>%
mutate(price = price * 12) %>%
na.omit() %>%
summarise(mean(price))
outlierReplace(warehouse, "price", which(warehouse$price > 4), NA)
warehouse %>%
mutate(price = price * 12) %>%
na.omit()
warehouse %>%
mutate(price = price * 12) %>%
na.omit() %>%
summarise(mean(price))
outlierReplace(warehouse, "price", which(warehouse$price > 2), NA)
warehouse %>%
mutate(price = price * 12) %>%
na.omit() %>%
summarise(mean(price))
View(warehouse)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
na.omit()
View(warehouse)
warehouse <- tibble::rowid_to_column(warehouse, "ID")
View(warehouse)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
tibble::rowid_to_column(warehouse, "ID") %>%
na.omit()
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
tibble::rowid_to_column(warehouse) %>%
na.omit()
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
tibble::rowid_to_column(warehouse) %>%
na.omit()
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
tibble::rowid_to_column(warehouse, "id") %>%
na.omit()
warehouse <- tibble::rowid_to_column(warehouse, "ID")
library(rvest)
library(stringr)
library(tidyverse)
library(dplyr)
library(zipcode)
library(ggplot2)
library(data.table)
data(zipcode.civicspace)
rm(zipcode.civicspace)
#Street Adress
Street <- lapply(paste0('https://www.loopnet.com/warehouses-for-lease/', 1:20,sep="/"),
function(url){
url %>% read_html() %>%
html_nodes(".listingTitle") %>%
html_text() %>%
str_trim() %>%
gsub('-* Warehouse for Lease', '', .)
})
Street <- unlist(Street)
Street <- as.data.frame(Street)
#City and State
city_state <- lapply(paste0('https://www.loopnet.com/warehouses-for-lease/', 1:20,sep="/"),
function(url){
url %>% read_html() %>%
html_nodes(".listingDescription b") %>%
html_text() %>%
str_trim()
})
city_state <- unlist(city_state)
city_state <- as.data.frame(city_state)
city_state <- city_state %>% separate(city_state, sep = "," ,c("city","State"))
#Attributes
df1 <- lapply(paste0('https://www.loopnet.com/warehouses-for-lease/', 1:20,sep="/"),
function(url){
url %>% read_html() %>%
html_nodes(".listingAttributes tr") %>%
html_text() %>%
str_trim()
})
df1 <- unlist(df1)
df1 <- as.data.frame(df1)
#Price per skid per month
price <- df1 %>% filter(str_detect(df1,"Price:")) %>%
separate(df1, sep = ":", c("Text","Fee")) %>%
separate(Fee, sep = "-", c("Fee", "Max"))
price$Text <- NULL
price$Max <- NULL
price$Fee <- gsub("[^0-9\\.]", "", price$Fee)
price <- as.numeric(price$Fee)
price <- as.data.frame(price)
#Building Size
building_size <- df1 %>% filter(str_detect(df1, "Building Size")) %>%
separate(df1, sep = ":", c("Text", "Size"))
building_size$Text <- NULL
building_size$Size <- gsub("[^0-9\\]", "", building_size$Size)
Size <- as.numeric(building_size$Size)
Size <- as.data.frame(Size)
#Available Space
available_space <- df1 %>% filter(str_detect(df1, "Space Available")) %>%
separate(df1, sep = ":", c("Text" ,"Space")) %>%
separate(Space, sep = "-", c("Min", "Max"))
available_space$Text <- NULL
available_space$Max <- NULL
available_space$Space <- gsub("[^0-9\\]", "", available_space$Min)
View(available_space)
available_space$Min <- NULL
Space <- as.numeric(available_space$Space)
Space <- as.data.frame(Space)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
na.omit()
warehouse <- tibble::rowid_to_column(warehouse, "ID")
View(warehouse)
outlierReplace = function(dataframe, cols, rows, newValue = NA) {
if (any(rows)) {
set(dataframe, rows, cols, newValue)
}
}
outlierReplace(warehouse, "price", which(warehouse$price > 20), NA)
View(warehouse)
rm(warehouse)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
outlierReplace(warehouse, "price", which(warehouse$price > 20), NA) %>%
na.omit
s
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
mutate(replace(price, price > 20, NA)) %>%
na.omit
View(warehouse)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
mutate(price, replace(price, price > 20, NA)) %>%
na.omit
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
mutate(replace(price, price > 20, NA)) %>%
na.omit
View(warehouse)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
transmute(price, replace(price, price > 20, NA)) %>%
na.omit
View(warehouse)
#Warehouse data frame
warehouse <- bind_cols(Street,city_state, price, Size, Space)
warehouse <- as.data.frame(warehouse) %>%
mutate(price = price * 12) %>%
mutate(price, replace(price, price > 20, NA)) %>%
na.omit
View(warehouse)
warehouse$`replace(price, price > 20, NA)` <- NULL
View(warehouse)
avg_price <- warehouse %>% summarise(mean(price), mean(Size), mean(Space))
View(avg_price)
warehouse %>% group_by(State) %>% ggplot() %>% geom_bar(aes(x = State, y = price))
warehouse %>% group_by(State) %>% summarise(mean(price))
state_gdp <- read.csv("state_gdp.xlxs")
setwd("~/GitHub/WhereHouse/R")
state_gdp <- read.csv("state_gdp.xls")
View(state_gdp)
state_gdp <- read.csv("state_gdp.xls")
state_gdp <- read.csv("state_gdp.csv")
state_gdp <- read.csv("state_gdp.csv")
View(state_gdp)
state_gdp <- as.data.frame(state_gdp)
View(state_gdp)
state_gdp <- read.csv("state_gdp.csv")
state_gdp <- as.data.frame(state_gdp)
state_gdp %>% filter(X2015,States)
state_gdp <-dplyr::filter(X2015,States)
View(state_gdp)
View(state_gdp)
View(Street)
View(state_gdp)
state_gdp <- read.csv("state_gdp.csv")
View(state_gdp)
url1 <- "https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_GDP"
states_gdp <- url1 %>%
html() %>%
html_nodes(xpath='//*[@id="mw-content-text"]/div/table[3]') %>%
html_table()
library(rvest)
states_gdp <- url1 %>%
html() %>%
html_nodes(xpath='//*[@id="mw-content-text"]/div/table[3]') %>%
html_table()
states_gdp <- url1 %>%
read_html() %>%
html_nodes(xpath='//*[@id="mw-content-text"]/div/table[3]') %>%
html_table()
states_gdp <- unlist(states_gdp)
states_gdp <- as.data.frame(states_gdp)
View(states_gdp)
states_gdp <- states_gdp[[1]]
View(state_gdp)
states_gdp <- states_gdp[[1]] %>% as.data.frame()
View(states_gdp)
url1 <- "https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_GDP"
states_gdp <- url1 %>%
read_html() %>%
html_nodes(xpath='//*[@id="mw-content-text"]/div/table[3]') %>%
html_table()
states_gdp <- unlist(states_gdp)
states_gdp <- as.data.frame(states_gdp)
View(states_gdp)
rm(state_gdp)
states_gdp <- readHTMLTable(url1, header=T, which=5,stringsAsFactors=F)
library(XML)
library(xml2)
states_gdp <- readHTMLTable(url1, header=T, which=5,stringsAsFactors=F)
View(states_gdp)
spread(states_gdp, rank, rank1, State, year, percentage, region, 56)
dplyr::spread(states_gdp, rank, rank1, State, year, percentage, region, 56)
tidyr::spread(states_gdp, rank, rank1, State, year, percentage, region, 56)
states_gdp %>% spread(states_gdp, rank, rank1, State, year, percentage, region, 56)
states_gdp %>% spread(states_gdp)
states_gdp <- tidyr::spread(states_gdp)
states_gdp <- tidyr::spread(states_gdp, 56)
states_gdp <- tidyr::spread(states_gdp, 1)
View(states_gdp)
spread(states_gdp, states_gdp, 56)
library(tidyr)
spread(states_gdp, states_gdp, 56)
spread(states_gdp, states_gdp, 1)
reshape(states_gdp, direction = "wide", idvar = c("Rank", "Rank(50 states)", "State or territory", "2017", "% of Nation", "Region"))
reshape(states_gdp, direction = "wide", idvar = c("Rank", "Rank(50 states)", "State or territory", "2017", "% of Nation", "Region"))
warehouse %>% group_by(State) %>% summarise(mean(price))
library(dplyr)
warehouse %>% group_by(State) %>% summarise(mean(price))
a <- warehouse %>% group_by(State) %>% summarise(mean(price))
View(a)
